@use "grid" as *;
@use "base" as *;

/* ---------- tokens ---------- */
$maxw: 1200px;
$gap: 1.25rem;
$radius: 12px;
$border: #e5e5e5;
$muted: #616161;
$black: #000;
$shadow: 0 1px 2px rgba(0,0,0,.04), 0 8px 18px rgba(0,0,0,.08);

/* ---------- Lausnir(svo index breytist ekki, fyrst .scss filearnir eru svona settaðir upp) ---------- */

.page-lausnir {
  .lausnir {
    .lausnir-layout {
      display: grid;
      grid-template-columns: 280px 1fr;
      gap: $gap;
      align-items: start;
      max-width: $maxw;
      margin: 0 auto;
      padding: 0 1rem;
    }
    .filters { grid-column: 1; }
    .content { grid-column: 2; min-width: 0; }
    .solutions, .solution-grid { min-width: 0; }

    /* ---------- FILTER ---------- */
    .filters {
      fieldset {
        border: 0;
        background: #fff;
        border-radius: 10px;
        padding: .9rem;
        box-shadow: $shadow;
        position: sticky; top: 1rem;
      }
      fieldset > div {
        display: flex; gap: .6rem; align-items: flex-start; margin-bottom: .9rem;
      }
      input[type="checkbox"] { accent-color: $black; width: 16px; height: 16px; margin-top: 2px; }
      fieldset > div > div {
        strong { display:block; margin-bottom:.25rem; }
        p { margin:0; color:$muted; }
      }

      /* ---------- SLIDER ---------- */
      fieldset > div:last-child { flex-direction: column; gap:.4rem; margin-bottom:0; }
      fieldset > div:last-child > div { display:flex; justify-content:space-between; width:100%; align-items:baseline; }
      input[type="range"] {
        width:100%; height:4px; background:#e9e9e9; border-radius:999px; outline:none;
        -webkit-appearance:none; appearance:none;
        &::-webkit-slider-runnable-track { height:4px; background:#e9e9e9; border-radius:999px; }
        &::-webkit-slider-thumb { -webkit-appearance:none; width:18px; height:18px; background:$black; border-radius:50%; margin-top:-7px; cursor:pointer; }
        &::-moz-range-track { height:4px; background:#e9e9e9; border-radius:999px; }
        &::-moz-range-thumb { width:18px; height:18px; background:$black; border:none; border-radius:50%; cursor:pointer; }
        &::-moz-range-progress { height:4px; background:$black; border-radius:999px; }
      }
    }

    /* ---------- TOOLBAR ---------- */
    .toolbar {
      display:flex; flex-wrap:wrap; align-items:center; justify-content:space-between; gap:.75rem; margin-bottom:1rem;

      input[type="search"] {
        flex:1 1 auto; max-width:400px; height:40px;
        border:1px solid $border; border-radius:999px; padding:0 14px; font-size:1rem;
        background:#fff; outline:none; box-shadow:none;
        &:focus { border-color:#aaa; }
      }

      .sort {
        display:flex; gap:.5rem; flex-wrap:wrap;
        button {
          height:36px; padding:0 .85rem; border:1px solid $border; border-radius:999px;
          background:#fff; color:#111; cursor:pointer; transition:all .2s ease;
          &:focus, &:active, &.active { background:$black; color:#fff; border-color:$black; }
          &:first-child { background:$black; color:#fff; border-color:$black; } /* “Nýjast” */
        }
      }
    }

    /* ---------- CARDS ---------- */
    .solution-grid { display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:$gap; }

    .solution-card {
      display:flex; flex-direction:column; height:100%; border-radius:$radius; box-shadow:$shadow; background:#f8f8f8;

      img { width:100%; aspect-ratio:16/9; object-fit:cover; display:block; }

      .solution-text {
        padding:1rem;
        h2 { font-size:1.25rem; font-weight:600; margin-bottom:.5rem; }
        p { color:$muted; font-size:1rem; line-height:1.4; }
        .price { margin-top:.5rem; font-weight:600; color:#111; }
      }

      .card-buttons {
        margin-top:auto; padding:.75rem 1rem; border-top:1px solid rgba(0,0,0,.06);
        background:#f6f6f6; display:flex; justify-content:flex-start;
        .btn { height:36px; padding:0 1rem; border:none; border-radius:8px; background:$black; color:#fff; font-weight:600; text-decoration:none; display:inline-flex; align-items:center; justify-content:center; transition:background .2s;
          &:hover { background:#222; }
        }
      }
    }

    /* ---------- RESPONSIVE ---------- */
    @media (max-width:1100px) {
      .solution-grid { grid-template-columns:repeat(2, minmax(0,1fr)); }
    }
    @media (max-width:900px) {
      .lausnir-layout { grid-template-columns:1fr; gap:2rem; }
      .filters, .content { grid-column:1; }
      .filters fieldset { position:static; }
      .toolbar { flex-direction:column; align-items:stretch; }
      .toolbar input[type="search"] { max-width:100%; width:100%; }
      .toolbar .sort { justify-content:space-between; }
      .toolbar .sort button { flex:1 1 auto; text-align:center; }
      .solution-grid { grid-template-columns:1fr; padding:0 .5rem; }
      .solution-card .card-buttons { padding:.6rem .9rem; }
      .solution-card .btn { height:34px; padding:0 .9rem; }
    }
  }
}
